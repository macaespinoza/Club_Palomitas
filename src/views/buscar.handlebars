<div class="container py-4">
    <h2 class="display-5 mb-4 text-center">
        <i class="bi bi-search text-info me-2"></i>Buscar Películas
    </h2>

    {{#if query}}
    <p class="text-muted text-center">
        Resultados para: <strong>{{query}}</strong>
    </p>
    {{/if}}

    <form action="/buscar" method="GET" class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="mb-3">
                <input type="text" name="q" class="form-control bg-dark text-light border-secondary"
                    placeholder="Escribe el nombre de una película..." value="{{query}}" required>
            </div>
            <button type="submit" class="btn btn-success d-block mx-auto w-50" id="btn-buscar">
                <i class="bi bi-search me-1"></i>Buscar
            </button>
        </div>
    </form>

    <div id="resultados" class="mt-5"></div>
</div>

<style>
    .movie-card .card-img-top {
        height: 300px;
        object-fit: cover;
        object-position: center;
    }

    .card-title-container {
        color: var(--ink-black, #081f21);
        font-size: 1.8rem;
        font-weight: 800;
        text-transform: uppercase;
        margin: 0;
        height: 2.6em;
        line-height: 1.3em;
    }

    .card-title-text {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        cursor: pointer;
        word-break: break-word;
    }

    .badge-tipo {
        background-color: var(--pearl-aqua, #69dadc);
        color: var(--ink-black, #081f21);
        font-size: 0.7rem;
        font-weight: 700;
        padding: 0.2rem 0.5rem;
        border-radius: 6px;
        text-transform: uppercase;
        display: inline-block;
    }

    .text-ink-black {
        color: var(--ink-black, #081f21);
    }

    .card-separator {
        border-top: 2px dashed rgba(8, 31, 33, 0.2);
        width: 100%;
    }

    .btn-card-action {
        background-color: var(--ink-black, #081f21) !important;
        color: var(--azure-mist, #eefbfb) !important;
        border: 2px solid var(--ink-black, #081f21) !important;
        border-radius: 8px;
        padding: 0.3rem 0.5rem;
        transition: all 0.2s ease;
        font-weight: 600;
        font-size: 0.85rem;
        white-space: nowrap;
    }

    .btn-card-action:hover {
        background-color: var(--royal-gold, #fae04c) !important;
        color: var(--ink-black, #081f21) !important;
        transform: translateY(-2px);
        box-shadow: 3px 3px 0px var(--ink-black, #081f21);
    }

    .btn-card-action i {
        font-size: 0.9rem;
    }

    .popover {
        background-color: var(--ink-black, #081f21);
        border: 2px solid var(--royal-gold, #fae04c);
        border-radius: 12px;
        box-shadow: 4px 4px 0px var(--pearl-aqua, #69dadc);
    }

    .popover-body {
        color: var(--azure-mist, #eefbfb);
        font-style: italic;
        padding: 0.75rem 1rem;
    }

    .popover-arrow::before,
    .popover-arrow::after {
        border-top-color: var(--ink-black, #081f21) !important;
    }
</style>